import{S as ce,i as de,s as ve,n as ie,d,y as fe,J as oe,e as G,h as a,f as R,A as ne,K as me,B as t,C as he,j as u,m as k,k as C,D as M,l as Q,p as c,r as E,q as X}from"../chunks/DzV9Oz0k.js";import"../chunks/IHki7fMi.js";import{g as pe}from"../chunks/UISnZMS-.js";import{c as _e,P as ge,a as be}from"../chunks/BwNcEr-W.js";function re(o){let s,e;return{c(){s=c("div"),e=X(o[3]),this.h()},l(l){s=u(l,"DIV",{class:!0});var i=C(s);e=Q(i,o[3]),i.forEach(d),this.h()},h(){t(s,"class","alert alert-error svelte-miiovs")},m(l,i){R(l,s,i),a(s,e)},p(l,i){i&8&&G(e,l[3])},d(l){l&&d(s)}}}function ue(o){let s,e;return{c(){s=c("div"),e=X(o[2]),this.h()},l(l){s=u(l,"DIV",{class:!0});var i=C(s);e=Q(i,o[2]),i.forEach(d),this.h()},h(){t(s,"class","alert alert-success svelte-miiovs")},m(l,i){R(l,s,i),a(s,e)},p(l,i){i&4&&G(e,l[2])},d(l){l&&d(s)}}}function ke(o){let s,e,l,i,_,g,w='<div class="header-content svelte-miiovs"><nav class="nav svelte-miiovs"><a href="/" class="logo svelte-miiovs">HOUSE OF LE PALLEVON</a> <div class="nav-links svelte-miiovs"><a href="/" class="nav-link svelte-miiovs">Home</a></div></nav></div>',U,L,I,r,B,Z="Welcome Back",W,N,x="Sign in to access your account",j,m,y,S,$="Email Address",F,h,z,O,V,b,H=o[1]?"Sending...":"Send Magic Link",T,J,D,ee="We'll send you a secure login link via email. No password required.",Y,te,v=o[3]&&re(o),f=o[2]&&ue(o);return{c(){s=c("link"),e=c("link"),l=c("link"),i=E(),_=c("div"),g=c("header"),g.innerHTML=w,U=E(),L=c("main"),I=c("div"),r=c("div"),B=c("h1"),B.textContent=Z,W=E(),N=c("p"),N.textContent=x,j=E(),m=c("form"),y=c("div"),S=c("label"),S.textContent=$,F=E(),h=c("input"),z=E(),v&&v.c(),O=E(),f&&f.c(),V=E(),b=c("button"),T=X(H),J=E(),D=c("p"),D.textContent=ee,this.h()},l(n){const p=he("svelte-pr52np",document.head);s=u(p,"LINK",{rel:!0,href:!0}),e=u(p,"LINK",{rel:!0,href:!0,crossorigin:!0}),l=u(p,"LINK",{href:!0,rel:!0}),p.forEach(d),i=k(n),_=u(n,"DIV",{class:!0});var K=C(_);g=u(K,"HEADER",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-k77oo8"&&(g.innerHTML=w),U=k(K),L=u(K,"MAIN",{class:!0});var se=C(L);I=u(se,"DIV",{class:!0});var le=C(I);r=u(le,"DIV",{class:!0});var P=C(r);B=u(P,"H1",{class:!0,"data-svelte-h":!0}),M(B)!=="svelte-1tb7irj"&&(B.textContent=Z),W=k(P),N=u(P,"P",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-12590zv"&&(N.textContent=x),j=k(P),m=u(P,"FORM",{class:!0});var A=C(m);y=u(A,"DIV",{class:!0});var q=C(y);S=u(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),M(S)!=="svelte-1pc0iwm"&&(S.textContent=$),F=k(q),h=u(q,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),q.forEach(d),z=k(A),v&&v.l(A),O=k(A),f&&f.l(A),V=k(A),b=u(A,"BUTTON",{type:!0,class:!0});var ae=C(b);T=Q(ae,H),ae.forEach(d),A.forEach(d),J=k(P),D=u(P,"P",{class:!0,"data-svelte-h":!0}),M(D)!=="svelte-2on1i6"&&(D.textContent=ee),P.forEach(d),le.forEach(d),se.forEach(d),K.forEach(d),this.h()},h(){document.title="Login - House of Le Pallevon",t(s,"rel","preconnect"),t(s,"href","https://fonts.googleapis.com"),t(e,"rel","preconnect"),t(e,"href","https://fonts.gstatic.com"),t(e,"crossorigin","anonymous"),t(l,"href","https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=DM+Sans:wght@300;400;500;600&display=swap"),t(l,"rel","stylesheet"),t(g,"class","header svelte-miiovs"),t(B,"class","auth-title svelte-miiovs"),t(N,"class","auth-subtitle svelte-miiovs"),t(S,"for","email"),t(S,"class","form-label svelte-miiovs"),t(h,"type","email"),t(h,"id","email"),t(h,"placeholder","you@example.com"),t(h,"class","form-input svelte-miiovs"),h.disabled=o[1],h.required=!0,t(y,"class","form-group svelte-miiovs"),t(b,"type","submit"),t(b,"class","btn-submit svelte-miiovs"),b.disabled=o[1],t(m,"class","auth-form svelte-miiovs"),t(D,"class","auth-note svelte-miiovs"),t(r,"class","auth-card svelte-miiovs"),t(I,"class","auth-container svelte-miiovs"),t(L,"class","auth-page svelte-miiovs"),t(_,"class","page-wrapper svelte-miiovs")},m(n,p){a(document.head,s),a(document.head,e),a(document.head,l),R(n,i,p),R(n,_,p),a(_,g),a(_,U),a(_,L),a(L,I),a(I,r),a(r,B),a(r,W),a(r,N),a(r,j),a(r,m),a(m,y),a(y,S),a(y,F),a(y,h),oe(h,o[0]),a(m,z),v&&v.m(m,null),a(m,O),f&&f.m(m,null),a(m,V),a(m,b),a(b,T),a(r,J),a(r,D),Y||(te=[ne(h,"input",o[6]),ne(m,"submit",me(o[4]))],Y=!0)},p(n,[p]){p&2&&(h.disabled=n[1]),p&1&&h.value!==n[0]&&oe(h,n[0]),n[3]?v?v.p(n,p):(v=re(n),v.c(),v.m(m,O)):v&&(v.d(1),v=null),n[2]?f?f.p(n,p):(f=ue(n),f.c(),f.m(m,V)):f&&(f.d(1),f=null),p&2&&H!==(H=n[1]?"Sending...":"Send Magic Link")&&G(T,H),p&2&&(b.disabled=n[1])},i:ie,o:ie,d(n){n&&(d(i),d(_)),d(s),d(e),d(l),v&&v.d(),f&&f.d(),Y=!1,fe(te)}}}function Ee(o,s,e){let{data:l}=s,i="",_=!1,g="",w="";const U=_e(be,ge);async function L(){if(!i){e(3,w="Please enter your email address");return}e(1,_=!0),e(3,w=""),e(2,g="");const{error:r}=await U.auth.signInWithOtp({email:i,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});e(1,_=!1),r?e(3,w=r.message):(e(2,g="Check your email for the login link!"),e(0,i=""))}l.session&&pe("/");function I(){i=this.value,e(0,i)}return o.$$set=r=>{"data"in r&&e(5,l=r.data)},[i,_,g,w,L,l,I]}class Se extends ce{constructor(s){super(),de(this,s,Ee,ke,ve,{data:5})}}export{Se as component};
